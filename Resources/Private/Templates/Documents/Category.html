{namespace media=TYPO3\Media\ViewHelpers}
{namespace ts=TYPO3\TypoScript\ViewHelpers}
{namespace neos=TYPO3\Neos\ViewHelpers}
{namespace typo3cr=TYPO3\TYPO3CR\ViewHelpers}

<div content="col-xs-12">
    <p class="text-center">
        <neos:link.node node="{parentNode}">{parentNode.properties.title}</neos:link.node>
    </p>
</div>

<hr>

<div class="category-image">
    <p>
        <f:if condition="{image}">
            <media:image image="{image}" alt="{title}" title="{title}" maximumWidth="2500" allowCropping="TRUE" class="img-responsive center-block"/>
        </f:if>
    </p>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h1 class="panel-title">{title}</h1>
    </div>
    <div class="panel-body">
        {main -> f:format.raw()}
    </div>
</div>

<f:if condition="{subCategories}">
    <f:then>
        <div class="category-subCategories">
            <section{attributes -> f:format.raw()}>
            <div class="row">
                {subCategories -> f:format.raw()}
            </div>
            </section>
        </div>
    </f:then>
    <f:else>
        <f:if condition="{products}">
            <f:then></f:then>
            <f:else>
                <div class="category-noSubCategoriesAndProducts">
                    Es konnten leider keine Unterkategorien gefunden werden.
                </div>
            </f:else>
        </f:if>
    </f:else>
</f:if>

<f:if condition="{products}">
    <div class="category-products">
        <section{attributes -> f:format.raw()}>
            <div class="row">
                {products -> f:format.raw()}
            </div>
        </section>
    </div>
</f:if>